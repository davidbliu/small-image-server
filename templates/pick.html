<head>
  <title>Image Picker</title>

  <link rel = 'stylesheet' href = 'https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css'>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.9/angular.min.js"></script>
  <script src = 'https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js'></script>

</head>
<body ng-app = 'imageApp'>

<style type = 'text/css'>
#video-gallery{
	clear:both;
	display:inline-block;
}
.centered{
	text-align: center;
}
.video-div{
	float:left;
}
.photo-div{
	float:left;
}
.photo-img{
	height:125px;
}
.vid{
	height:125px;
}
</style>
	<div class = 'jumbotron'>
		<h1 class = 'centered'>Hello</h1>
	</div>

	<div ng-controller = 'PickCtrl'>
		<h2>{[{ compressed_videos.length }]} Videos</h2>
		<div id = 'video-gallery'>
			<div class = 'video-div' ng-repeat = 'video in compressed_videos' ng-click = 'toggleSelect(video)'>
				<video class = 'vid' src = '{[{ video }]}' playbackRate = 2 autoplay></video>
			</div>
		</div>

		<div id = 'photo-gallery'>
			<h2>{[{ compressed_photos.length }]} Photos</h2>
			<div class = 'photo-div' ng-repeat = 'photo in compressed_photos' ng-click = 'toggleSelect(photo)'>
				<img src = '{[{photo}]}' class = 'photo-img'></img>
			</div>
		</div>
	</div>

<script type = 'text/javascript'>
	var email = "{{email}}";
	var compressed_photos = {{compressed_photos | safe}};
	var compressed_videos = {{compressed_videos | safe}};

	var myApp = angular.module('imageApp', []);
	myApp.config(function($interpolateProvider){
    	$interpolateProvider.startSymbol('{[{').endSymbol('}]}');
	});
	myApp.controller("PickCtrl", function ($scope) {
		$scope.test = 'hi there from board ctrl';
		$scope.compressed_photos = compressed_photos;
		$scope.compressed_videos = compressed_videos;
		setTimeout(function(){
			$('video').each(function(){
				console.log(this);
				this.playbackRate = 30;
				this.loop = true
			});
		}, 500);
		$scope.toggleSelect = function(url){

		}
	});
	
</script>

</body>